# –°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–æ–º

–ù–∞–±–æ—Ä bash-—Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–æ–º –Ω–∞ Linux —Å–µ—Ä–≤–µ—Ä–µ.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏

```bash
chmod +x *.sh
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞

**–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º** (–≤–∏–¥–Ω–æ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏):
```bash
./start_bot.sh
```

**–§–æ–Ω–æ–≤—ã–π —Ä–µ–∂–∏–º** (daemon):
```bash
./start_bot_daemon.sh
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å

```bash
./check_bot.sh
```

### 4. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞

```bash
./stop_bot.sh
```

## üìã –û–ø–∏—Å–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤

### start_bot.sh
–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ (—Å –≤—ã–≤–æ–¥–æ–º –ª–æ–≥–æ–≤ –≤ –∫–æ–Ω—Å–æ–ª—å).

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ –±–æ—Ç –Ω–µ –∑–∞–ø—É—â–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ `.env` —Ñ–∞–π–ª–∞
- –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (—Å–æ–∑–¥–∞–µ—Ç –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./start_bot.sh
```

**–û—Å—Ç–∞–Ω–æ–≤–∫–∞:** Ctrl+C

---

### start_bot_daemon.sh
–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ (daemon).

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ –±–æ—Ç –Ω–µ –∑–∞–ø—É—â–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ `.env` —Ñ–∞–π–ª–∞
- –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞ –≤ —Ñ–æ–Ω–µ —á–µ—Ä–µ–∑ `nohup`
- –°–æ–∑–¥–∞–µ—Ç `logs/daemon.log` –¥–ª—è –≤—ã–≤–æ–¥–∞ daemon

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./start_bot_daemon.sh
```

**–í—ã–≤–æ–¥:**
```
‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω!
üìã PID: 12345
üìÅ –õ–æ–≥–∏: logs/bot.log
üìÅ Daemon –ª–æ–≥: logs/daemon.log

–î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: ./stop_bot.sh
–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤: tail -f logs/bot.log
```

**–û—Å—Ç–∞–Ω–æ–≤–∫–∞:** `./stop_bot.sh`

---

### check_bot.sh
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –±–æ—Ç–∞.

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- –ó–∞–ø—É—â–µ–Ω –ª–∏ –±–æ—Ç
- PID –ø—Ä–æ—Ü–µ—Å—Å–∞
- –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –∏ CPU
- –†–∞–∑–º–µ—Ä –ª–æ–≥-—Ñ–∞–π–ª–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./check_bot.sh
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ Funding Bot...

‚úÖ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω

üìã –ü—Ä–æ—Ü–µ—Å—Å:
root     12345  0.5  2.1 256784 87632 ?   Sl   20:00   0:15 python bot.py

  PID: 12345
  –ó–∞–ø—É—â–µ–Ω: Sun Oct 27 20:00:00 2025
  –ü–∞–º—è—Ç—å: 2.1%
  CPU: 0.5%

üìÅ –†–∞–∑–º–µ—Ä bot.log: 2.3M
üìÅ –†–∞–∑–º–µ—Ä errors.log: 45K (123 —Å—Ç—Ä–æ–∫)

üí° –ö–æ–º–∞–Ω–¥—ã:
  ./stop_bot.sh           - –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
  tail -f logs/bot.log    - –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
  tail -f logs/errors.log - –°–º–æ—Ç—Ä–µ—Ç—å –æ—à–∏–±–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```

---

### stop_bot.sh
–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –±–æ—Ç–∞.

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ò—â–µ—Ç –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã `bot.py`
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏—Ö —á–µ—Ä–µ–∑ `kill`
- –ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `kill -9`
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./stop_bot.sh
```

**–í—ã–≤–æ–¥:**
```
üîç –ü–æ–∏—Å–∫ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –±–æ—Ç–∞...
üìã –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã:
root     12345  0.5  2.1 256784 87632 ?   Sl   20:00   0:15 python bot.py

üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤...
  –£–±–∏–≤–∞—é –ø—Ä–æ—Ü–µ—Å—Å 12345
‚úÖ –í—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
```

---

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "–ë–æ—Ç —É–∂–µ –∑–∞–ø—É—â–µ–Ω"

–ï—Å–ª–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≤–∏–¥–∏—Ç–µ:
```
‚ö†Ô∏è  –ë–æ—Ç —É–∂–µ –∑–∞–ø—É—â–µ–Ω!
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
./stop_bot.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞
./start_bot_daemon.sh
```

---

### –û—à–∏–±–∫–∞: "Conflict: terminated by other getUpdates request"

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —á—Ç–æ –∑–∞–ø—É—â–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –±–æ—Ç–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –í–°–ï –ø—Ä–æ—Ü–µ—Å—Å—ã
./stop_bot.sh

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –±–æ—Ç –Ω–µ –∑–∞–ø—É—â–µ–Ω
./check_bot.sh

# 3. –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —á—Ç–æ –∑–∞–ø—É—â–µ–Ω, —É–±–µ–π—Ç–µ –≤—Ä—É—á–Ω—É—é
pkill -9 -f bot.py

# 4. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5 —Å–µ–∫—É–Ω–¥
sleep 5

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞
./start_bot_daemon.sh
```

---

### –ù–∞–π—Ç–∏ –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –±–æ—Ç–∞ –≤—Ä—É—á–Ω—É—é

```bash
# –ü–æ–∏—Å–∫
ps aux | grep bot.py

# –ò–ª–∏
pgrep -af bot.py

# –£–±–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å
kill <PID>

# –£–±–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –±–æ—Ç–∞
pkill -f bot.py

# –£–±–∏—Ç—å –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ
pkill -9 -f bot.py
```

---

### –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

```bash
# –û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥
tail -f logs/bot.log

# –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
tail -f logs/errors.log

# Daemon –ª–æ–≥ (–µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ start_bot_daemon.sh)
tail -f logs/daemon.log

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫
tail -100 logs/bot.log

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
grep "ERROR" logs/bot.log
grep "‚ùå" logs/bot.log
```

---

## üîÑ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å–µ—Ä–≤–µ—Ä–∞

### –ß–µ—Ä–µ–∑ systemd

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `/etc/systemd/system/funding-bot.service`:

```ini
[Unit]
Description=Funding Rate Telegram Bot
After=network.target

[Service]
Type=simple
User=root
WorkingDirectory=/var/www/Just-Funding-Bot
ExecStart=/var/www/Just-Funding-Bot/venv/bin/python /var/www/Just-Funding-Bot/bot.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ:
```bash
sudo systemctl daemon-reload
sudo systemctl enable funding-bot
sudo systemctl start funding-bot

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status funding-bot

# –õ–æ–≥–∏
sudo journalctl -u funding-bot -f
```

---

### –ß–µ—Ä–µ–∑ crontab

```bash
crontab -e
```

–î–æ–±–∞–≤—å—Ç–µ:
```cron
@reboot cd /var/www/Just-Funding-Bot && ./start_bot_daemon.sh
```

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ daemon —Ä–µ–∂–∏–º –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ:**
   ```bash
   ./start_bot_daemon.sh
   ```

2. **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ç–∞—Ç—É—Å:**
   ```bash
   ./check_bot.sh
   ```

3. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫:**
   ```bash
   tail -f logs/errors.log
   ```

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫** —á–µ—Ä–µ–∑ systemd –∏–ª–∏ crontab

5. **–†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** (10 MB –¥–ª—è bot.log, 5 MB –¥–ª—è errors.log)
