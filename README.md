# Funding Rate Bot üöÄ

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Telegram –±–æ—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å—Ç–∞–≤–æ–∫ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è (funding rates) –Ω–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã—Ö –±–∏—Ä–∂–∞—Ö.

## ‚ö° –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîÑ **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –±—ã—Å—Ç—Ä—ã–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –æ—Ç 9 –±–∏—Ä–∂ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- üíæ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å TTL** - –∑–∞—â–∏—Ç–∞ –æ—Ç rate limiting (—ç–∫–æ–Ω–æ–º–∏—è –¥–æ 80% –∑–∞–ø—Ä–æ—Å–æ–≤)
- üõ°Ô∏è **Thundering Herd Protection** - –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–µ —Å–æ–∑–¥–∞—é—Ç –Ω–∞–≥—Ä—É–∑–∫—É
- üìä **–ö—Ä–∞—Å–∏–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Ç–∞–±–ª–∏—Ü—ã, —ç–º–æ–¥–∑–∏, —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã
- ‚è∞ **–£–º–Ω–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–∫–µ–Ω—ã —Å –±–ª–∏–∂–∞–π—à–∏–º funding
- üîî **–°–∏—Å—Ç–µ–º–∞ –∞–ª–µ—Ä—Ç–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤—ã—Å–æ–∫–∏—Ö —Å—Ç–∞–≤–∫–∞—Ö
- üîê **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—ç—à–µ–º —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

## üè¶ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –±–∏—Ä–∂–∏

- ‚úÖ Bybit
- ‚úÖ Binance Futures
- ‚úÖ MEXC
- ‚úÖ Gate.io
- ‚úÖ KuCoin
- ‚úÖ Bitget
- ‚úÖ BingX
- ‚úÖ BitMart
- ‚úÖ OKX

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- Telegram Bot Token
- pip (–¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone <repository-url>
cd funding_bot
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
cp .env.example .env
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```env
# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your_bot_token_here

# Cache Configuration
CACHE_TTL=30  # –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫—ç—à–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (default: 30)

# Admin Configuration
ADMIN_USER_ID=your_telegram_user_id  # –¢–æ–ª—å–∫–æ —ç—Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∫—ç—à–µ–º
```

**–ö–∞–∫ —É–∑–Ω–∞—Ç—å —Å–≤–æ–π Telegram User ID:**
- –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ [@userinfobot](https://t.me/userinfobot)
- –û—Ç–ø—Ä–∞–≤—å—Ç–µ –µ–º—É –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à ID

### 4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

#### –ù–∞ Linux —Å–µ—Ä–≤–µ—Ä–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã:

```bash
# –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏ (–æ–¥–∏–Ω —Ä–∞–∑)
chmod +x *.sh

# –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ (daemon)
./start_bot_daemon.sh

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
./check_bot.sh

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
./stop_bot.sh
```

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [SCRIPTS_README.md](SCRIPTS_README.md)

#### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

```bash
python bot.py
```

–í—ã —É–≤–∏–¥–∏—Ç–µ:
```
INFO - üìÅ –õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤: /path/to/logs
INFO - Cache TTL set to: 30 seconds
INFO - Admin user ID set to: 123456789
INFO - Initializing aggregator with cache TTL: 30s
INFO - Bot started
```

## üì± –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ |
| `/top` | –¢–æ–ø-5 —Ç–æ–∫–µ–Ω–æ–≤ —Å –±–ª–∏–∂–∞–π—à–∏–º funding |
| `/token BTC` | –î–∞–Ω–Ω—ã–µ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —Ç–æ–∫–µ–Ω—É |
| `/set_threshold 0.5` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ—Ä–æ–≥ –∞–ª–µ—Ä—Ç–∞ (%) |
| `/start_monitoring` | –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã |
| `/stop_monitoring` | –í—ã–∫–ª—é—á–∏—Ç—å –∞–ª–µ—Ä—Ç—ã |
| `/status` | –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |

### –ê–¥–º–∏–Ω—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã (—Ç–æ–ª—å–∫–æ –¥–ª—è ADMIN_USER_ID)

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/cache_stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫—ç—à–∞ (HIT/MISS, –≤–æ–∑—Ä–∞—Å—Ç –∑–∞–ø–∏—Å–µ–π) |
| `/clear_cache` | –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ |

## üìä –ü—Ä–∏–º–µ—Ä—ã –≤—ã–≤–æ–¥–∞

### –ö–æ–º–∞–Ω–¥–∞ `/top`

```
üèÜ –¢–û–ü-5 –¢–û–ö–ï–ù–û–í
‚è∞ Bybit funding: 18:00 (25.10, UTC+3)
–î—Ä—É–≥–∏–µ –±–∏—Ä–∂–∏ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –¥—Ä—É–≥–æ–µ –≤—Ä–µ–º—è ‚¨áÔ∏è
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

üî¥ 1. BTC üìà (‚è∞ 18:00)
üí∞ –¶–µ–Ω–∞: $68,234

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ–ë–∏—Ä–∂–∞     ‚îÇ Rate      ‚îÇ –í—Ä–µ–º—è  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇBYBIT     ‚îÇ +0.5234%  ‚îÇ 18:00  ‚îÇ
‚îÇBINANCE   ‚îÇ +0.5120%  ‚îÇ 18:00  ‚îÇ
‚îÇMEXC      ‚îÇ +0.4890%  ‚îÇ 20:00  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

üìä –°—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã:
  ‚Ä¢ BYBIT: –û—Ç–∫—Ä—ã—Ç—å ‚Üó
  ‚Ä¢ BINANCE: –û—Ç–∫—Ä—ã—Ç—å ‚Üó
  ‚Ä¢ MEXC: –û—Ç–∫—Ä—ã—Ç—å ‚Üó

üí° üî¥ –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è | üü† –í—ã—Å–æ–∫–∞—è | üü° –°—Ä–µ–¥–Ω—è—è | üü¢ –ù–∏–∑–∫–∞—è
üìà Long‚ÜíShort | üìâ Short‚ÜíLong
‚è∞ –í—Å–µ –≤—Ä–µ–º–µ–Ω–∞ –≤ UTC+3 (–ú–°–ö). –†–∞–∑–Ω—ã–µ –±–∏—Ä–∂–∏ = —Ä–∞–∑–Ω–æ–µ –≤—Ä–µ–º—è funding
```

### –ö–æ–º–∞–Ω–¥–∞ `/cache_stats` (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞)

```
üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫—ç—à–∞
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

‚öôÔ∏è Cache TTL: 30—Å
üì¶ –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: 1
‚úÖ –í–∞–ª–∏–¥–Ω—ã—Ö: 1
‚ùå –ò—Å—Ç–µ–∫—à–∏—Ö: 0

–ó–∞–ø–∏—Å–∏ –≤ –∫—ç—à–µ:
‚úÖ grouped_by_token:5
   –í–æ–∑—Ä–∞—Å—Ç: 15.3—Å / TTL: 30—Å
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Cache TTL (–≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫—ç—à–∞)

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏:

| –°—Ü–µ–Ω–∞—Ä–∏–π | TTL | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| Dev/Testing | 10-15 —Å–µ–∫ | –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |
| –ú–∞–ª–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (<10) | 30 —Å–µ–∫ | –ë–∞–ª–∞–Ω—Å —Å–≤–µ–∂–µ—Å—Ç–∏ –∏ –Ω–∞–≥—Ä—É–∑–∫–∏ |
| –°—Ä–µ–¥–Ω–µ (10-100) | 30-60 —Å–µ–∫ | –ó–∞—â–∏—Ç–∞ –æ—Ç burst requests |
| –ú–Ω–æ–≥–æ (>100) | 60-120 —Å–µ–∫ | –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ |
| –û—á–µ–Ω—å –º–Ω–æ–≥–æ (>1000) | 120-300 —Å–µ–∫ | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞ |

**–ò–∑–º–µ–Ω–∏—Ç—å TTL:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ `.env`
2. –ò–∑–º–µ–Ω–∏—Ç–µ `CACHE_TTL=30` –Ω–∞ –Ω—É–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

–¢–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º `ADMIN_USER_ID` –º–æ–∂–µ—Ç:
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∫—ç—à–∞ (`/cache_stats`)
- –û—á–∏—â–∞—Ç—å –∫—ç—à (`/clear_cache`)

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- ‚úÖ –í—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- ‚úÖ `.env` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ `.gitignore`
- ‚úÖ –ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ —Å–≤–æ–π User ID

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
funding_bot/
‚îú‚îÄ‚îÄ bot.py                 # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ models.py             # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (FundingRate, ContractInfo)
‚îú‚îÄ‚îÄ exchanges/            # –ê–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è –±–∏—Ä–∂
‚îÇ   ‚îú‚îÄ‚îÄ base.py          # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å ExchangeAdapter
‚îÇ   ‚îú‚îÄ‚îÄ bybit_adapter.py
‚îÇ   ‚îú‚îÄ‚îÄ binance_adapter.py
‚îÇ   ‚îú‚îÄ‚îÄ mexc_adapter.py
‚îÇ   ‚îú‚îÄ‚îÄ gateio_adapter.py
‚îÇ   ‚îî‚îÄ‚îÄ kucoin_adapter.py
‚îú‚îÄ‚îÄ services/            # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ aggregator.py   # –ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –æ—Ç –±–∏—Ä–∂
‚îÇ   ‚îú‚îÄ‚îÄ cache.py        # –°–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ formatter.py    # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îî‚îÄ‚îÄ docs/               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ CACHE_SYSTEM.md
    ‚îú‚îÄ‚îÄ ADMIN_SETUP.md
    ‚îî‚îÄ‚îÄ CHANGELOG.md
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ë–µ–∑ –∫—ç—à–∞
```
10 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π √ó 5 –±–∏—Ä–∂ = 50 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É
Risk: ‚ùå HIGH (rate limit)
```

### –° –∫—ç—à–µ–º (TTL 30—Å)
```
10 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ‚Üí ~10 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É
Risk: ‚úÖ LOW (80% —ç–∫–æ–Ω–æ–º–∏—è)
```

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: Rate limit –æ—Ç –±–∏—Ä–∂–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–≤–µ–ª–∏—á—å—Ç–µ `CACHE_TTL` –≤ `.env`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `/cache_stats` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã—Å–æ–∫–∏–π HIT rate
3. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è TTL >= 30 —Å–µ–∫—É–Ω–¥

### –ü—Ä–æ–±–ª–µ–º–∞: "–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã"

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–∑–Ω–∞–π—Ç–µ —Å–≤–æ–π User ID —á–µ—Ä–µ–∑ @userinfobot
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –æ–Ω —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å `ADMIN_USER_ID` –≤ `.env`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

### –ü—Ä–æ–±–ª–µ–º–∞: –î–∞–Ω–Ω—ã–µ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/clear_cache` (–µ—Å–ª–∏ –≤—ã –∞–¥–º–∏–Ω)
2. –ò–ª–∏ –ø–æ–¥–æ–∂–¥–∏—Ç–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è TTL
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

### –ü—Ä–æ–±–ª–µ–º–∞: "Conflict: terminated by other getUpdates request"

–≠—Ç–∞ –æ—à–∏–±–∫–∞ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∑–∞–ø—É—â–µ–Ω–æ **–Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –±–æ—Ç–∞** –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

**–†–µ—à–µ–Ω–∏–µ –Ω–∞ Linux:**
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
./stop_bot.sh

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –±–æ—Ç –Ω–µ –∑–∞–ø—É—â–µ–Ω
./check_bot.sh

# –ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã –æ—Å—Ç–∞–ª–∏—Å—å, —É–±–µ–π—Ç–µ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ
pkill -9 -f bot.py

# –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5 —Å–µ–∫—É–Ω–¥
sleep 5

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞
./start_bot_daemon.sh
```

**–†–µ—à–µ–Ω–∏–µ –≤—Ä—É—á–Ω—É—é:**
```bash
# –ù–∞–π—Ç–∏ –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
ps aux | grep bot.py

# –£–±–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å
kill <PID>

# –ò–ª–∏ —É–±–∏—Ç—å –≤—Å–µ —Å—Ä–∞–∑—É
pkill -f bot.py
```

**–ù–∞ Windows:**
```powershell
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã
Get-Process python | Where-Object {$_.Path -like "*bot.py*"}

# –£–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
Stop-Process -Id <PID>
```

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [SCRIPTS_README.md](SCRIPTS_README.md#–æ—à–∏–±–∫–∞-conflict-terminated-by-other-getupdates-request)

## üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `logs/`:

- **logs/bot.log** - –û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥ (INFO –∏ –≤—ã—à–µ, –¥–æ 10 MB, 5 —Ñ–∞–π–ª–æ–≤ —Ä–æ—Ç–∞—Ü–∏–∏)
- **logs/errors.log** - –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏ (ERROR, –¥–æ 5 MB, 3 —Ñ–∞–π–ª–∞ —Ä–æ—Ç–∞—Ü–∏–∏)

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

```powershell
# Windows PowerShell
Get-Content logs\bot.log -Wait -Tail 50
```

```bash
# Linux/Mac
tail -f logs/bot.log
```

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [LOGGING.md](docs/LOGGING.md)

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [SCRIPTS_README.md](SCRIPTS_README.md) - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ üîß
- [LOGGING.md](docs/LOGGING.md) - –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è ‚≠ê
- [CACHE_SYSTEM.md](docs/CACHE_SYSTEM.md) - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∫—ç—à—É
- [ADMIN_SETUP.md](docs/ADMIN_SETUP.md) - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- [CHANGELOG.md](docs/CHANGELOG.md) - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –±–∏—Ä–∂—É

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `exchanges/new_exchange_adapter.py`
2. –ù–∞—Å–ª–µ–¥—É–π—Ç–µ—Å—å –æ—Ç `ExchangeAdapter`
3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ç–æ–¥—ã `get_funding_rate()` –∏ `get_all_funding_rates()`
4. –î–æ–±–∞–≤—å—Ç–µ –≤ `bot.py`:
```python
from exchanges.new_exchange_adapter import NewExchangeAdapter

exchanges = [
    # ...
    NewExchangeAdapter(),
]
```

### –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã

```bash
# –¢–µ—Å—Ç —Ç–æ–ª—å–∫–æ MEXC
python test_mexc_only.py

# –û–±—â–∏–π async —Ç–µ—Å—Ç
python test_async.py
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## ü§ù Contributing

Pull requests are welcome!

## üìß –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, —Å–æ–∑–¥–∞–π—Ç–µ Issue.

---

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** –≠—Ç–æ—Ç –±–æ—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π. –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∞–π—Ç–∞—Ö –±–∏—Ä–∂ –ø–µ—Ä–µ–¥ –ø—Ä–∏–Ω—è—Ç–∏–µ–º —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π.
